<div class="gardens-index">
   <!-- <div class="carousel">
       <a class="carousel-item" href="#one!"><img src="http://lorempixel.com/250/250/nature/1"></a> -->
<!--Here i am adding the cards which format the wrapping and styles for the gardens-->
<div class="container-cards">
  <div class="row">
    <div class="col s12 m4 l6 offset-l6">
      <div class="gardens">
<!--Here i loop through our data and serve it to the web wiht a slice-->
  <% @gardens.each_slice(2) do |slice| %>
    <div class="row">
      <% slice.each do |garden| %>
          <div class="col s12 m6">
            <div class="card blue-grey darken-1">
              <div class="card-content white-text">
                   <span class="card-title">Card Title</span>
                   <img src="<%= garden.image %>">
                   <h3 class="garden-name"><%= garden.title %></h3>
                   <p class="garden-info">
                     Address: <%= garden.address %><br/>
                     Size: <%= garden.size %><br/>
                     <%= link_to 'More details or whatever', garden_path(garden) %>
                   </p>
              </div>
            </div>
          </div>
        <% end %>
      </div>
  <% end %>
   </div>
 </div>
<!--
<script>
  $('.pushpin-demo-nav').each(function() {
    var $this = $(this);
    var $target = $('#map' + $(this).attr('data-target'));
    $this.pushpin({
      top: $target.offset(100).top,
      bottom: $target.offset().top + $target.outerHeight() - $this.height()
    });
  });
</script> -->


    <div id="map" class="fixed">test blah blah
        </div>
    </div>
</div>

    <script>
       function initMap() {
         var toronto = {lat: 43.669297, lng: -79.415811};
         var map = new google.maps.Map(document.getElementById('map'), {
             zoom: 12,
             center: toronto
           });
      <%  @gardens.each do |g|  %>
      var marker = new google.maps.Marker({
        position: {lat: <%= g.latitude.to_f %>, lng: <%=g.longitude.to_f%>},
        map: map
      });
      <% end %>
    }

    </script>
     <script async defer
     src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCfGdWTZAmF0HDpWOnGsfVpIwLcb94EO-0&callback=initMap">
     </script>
